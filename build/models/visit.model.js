"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _spinalCoreConnectorjs = require("spinal-core-connectorjs");

var _spinalCoreConnectorjs2 = _interopRequireDefault(_spinalCoreConnectorjs);

var _nodeUuid = require("node-uuid");

var _nodeUuid2 = _interopRequireDefault(_nodeUuid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class VisitModel extends Model {
  constructor(name, periodicityNumber, periodicityMesure, visitType, interventionNumber, interventionMesure, description) {
    super();
    this.add_attr({
      id: `visit-${_nodeUuid2.default.v4()}`,
      name: name,
      periodicity: {
        number: periodicityNumber,
        mesure: new Choice(periodicityMesure, ["day(s)", "week(s)", "month(s)", "year(s)"])
      },
      intervention: {
        number: interventionNumber ? interventionNumber : "",
        mesure: typeof interventionMesure !== "undefined" ? new Choice(interventionMesure, ["minute(s)", "day(s)", "week(s)", "month(s)", "year(s)"]) : ""
      },
      visitType: visitType,
      description: description ? description : ""
    });
  }
}

exports.default = VisitModel;

_spinalCoreConnectorjs2.default.register_models([VisitModel]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvdmlzaXQubW9kZWwuanMiXSwibmFtZXMiOlsiVmlzaXRNb2RlbCIsIk1vZGVsIiwiY29uc3RydWN0b3IiLCJuYW1lIiwicGVyaW9kaWNpdHlOdW1iZXIiLCJwZXJpb2RpY2l0eU1lc3VyZSIsInZpc2l0VHlwZSIsImludGVydmVudGlvbk51bWJlciIsImludGVydmVudGlvbk1lc3VyZSIsImRlc2NyaXB0aW9uIiwiYWRkX2F0dHIiLCJpZCIsInV1aWQiLCJ2NCIsInBlcmlvZGljaXR5IiwibnVtYmVyIiwibWVzdXJlIiwiQ2hvaWNlIiwiaW50ZXJ2ZW50aW9uIiwic3BpbmFsQ29yZSIsInJlZ2lzdGVyX21vZGVscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsVUFBTixTQUF5QkMsS0FBekIsQ0FBK0I7QUFDN0JDLGNBQVlDLElBQVosRUFBa0JDLGlCQUFsQixFQUFxQ0MsaUJBQXJDLEVBQXdEQyxTQUF4RCxFQUNFQyxrQkFERixFQUNzQkMsa0JBRHRCLEVBQzBDQyxXQUQxQyxFQUN1RDtBQUNyRDtBQUNBLFNBQUtDLFFBQUwsQ0FBYztBQUNaQyxVQUFLLFNBQVFDLG1CQUFLQyxFQUFMLEVBQVUsRUFEWDtBQUVaVixZQUFNQSxJQUZNO0FBR1pXLG1CQUFhO0FBQ1hDLGdCQUFRWCxpQkFERztBQUVYWSxnQkFBUSxJQUFJQyxNQUFKLENBQVdaLGlCQUFYLEVBQThCLENBQUMsUUFBRCxFQUFXLFNBQVgsRUFDcEMsVUFEb0MsRUFFcEMsU0FGb0MsQ0FBOUI7QUFGRyxPQUhEO0FBVVphLG9CQUFjO0FBQ1pILGdCQUFRUixxQkFBcUJBLGtCQUFyQixHQUEwQyxFQUR0QztBQUVaUyxnQkFBUSxPQUFPUixrQkFBUCxLQUE4QixXQUE5QixHQUE0QyxJQUFJUyxNQUFKLENBQ2xEVCxrQkFEa0QsRUFDOUIsQ0FDbEIsV0FEa0IsRUFDTCxRQURLLEVBRWxCLFNBRmtCLEVBRVAsVUFGTyxFQUdsQixTQUhrQixDQUQ4QixDQUE1QyxHQUtEO0FBUEssT0FWRjtBQW1CWkYsaUJBQVdBLFNBbkJDO0FBb0JaRyxtQkFBYUEsY0FBY0EsV0FBZCxHQUE0QjtBQXBCN0IsS0FBZDtBQXNCRDtBQTFCNEI7O2tCQStCaEJULFU7O0FBQ2ZtQixnQ0FBV0MsZUFBWCxDQUEyQixDQUFDcEIsVUFBRCxDQUEzQiIsImZpbGUiOiJ2aXNpdC5tb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzcGluYWxDb3JlIGZyb20gXCJzcGluYWwtY29yZS1jb25uZWN0b3Jqc1wiO1xuaW1wb3J0IHV1aWQgZnJvbSBcIm5vZGUtdXVpZFwiO1xuXG5jbGFzcyBWaXNpdE1vZGVsIGV4dGVuZHMgTW9kZWwge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBwZXJpb2RpY2l0eU51bWJlciwgcGVyaW9kaWNpdHlNZXN1cmUsIHZpc2l0VHlwZSxcbiAgICBpbnRlcnZlbnRpb25OdW1iZXIsIGludGVydmVudGlvbk1lc3VyZSwgZGVzY3JpcHRpb24pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkX2F0dHIoe1xuICAgICAgaWQ6IGB2aXNpdC0ke3V1aWQudjQoKX1gLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHBlcmlvZGljaXR5OiB7XG4gICAgICAgIG51bWJlcjogcGVyaW9kaWNpdHlOdW1iZXIsXG4gICAgICAgIG1lc3VyZTogbmV3IENob2ljZShwZXJpb2RpY2l0eU1lc3VyZSwgW1wiZGF5KHMpXCIsIFwid2VlayhzKVwiLFxuICAgICAgICAgIFwibW9udGgocylcIixcbiAgICAgICAgICBcInllYXIocylcIlxuICAgICAgICBdKVxuICAgICAgfSxcbiAgICAgIGludGVydmVudGlvbjoge1xuICAgICAgICBudW1iZXI6IGludGVydmVudGlvbk51bWJlciA/IGludGVydmVudGlvbk51bWJlciA6IFwiXCIsXG4gICAgICAgIG1lc3VyZTogdHlwZW9mIGludGVydmVudGlvbk1lc3VyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBDaG9pY2UoXG4gICAgICAgICAgaW50ZXJ2ZW50aW9uTWVzdXJlLCBbXG4gICAgICAgICAgICBcIm1pbnV0ZShzKVwiLCBcImRheShzKVwiLFxuICAgICAgICAgICAgXCJ3ZWVrKHMpXCIsIFwibW9udGgocylcIixcbiAgICAgICAgICAgIFwieWVhcihzKVwiXG4gICAgICAgICAgXSkgOiBcIlwiXG4gICAgICB9LFxuICAgICAgdmlzaXRUeXBlOiB2aXNpdFR5cGUsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPyBkZXNjcmlwdGlvbiA6IFwiXCJcbiAgICB9KVxuICB9XG59XG5cblxuXG5leHBvcnQgZGVmYXVsdCBWaXNpdE1vZGVsO1xuc3BpbmFsQ29yZS5yZWdpc3Rlcl9tb2RlbHMoW1Zpc2l0TW9kZWxdKTsiXX0=