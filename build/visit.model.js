"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _spinalCoreConnectorjs = require("spinal-core-connectorjs");

var _spinalCoreConnectorjs2 = _interopRequireDefault(_spinalCoreConnectorjs);

var _nodeUuid = require("node-uuid");

var _nodeUuid2 = _interopRequireDefault(_nodeUuid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class VisitModel extends Model {
  constructor(name, periodicityNumber, periodicityMesure, visitId, visitType, interventionNumber, interventionMesure, description) {
    super();
    this.add_attr({
      id: `visit-${_nodeUuid2.default.v4()}`,
      name: name,
      periodicity: {
        number: periodicityNumber,
        mesure: new Choice(periodicityMesure, ["day(s)", "week(s)", "month(s)", "year(s)"])
      },
      intervention: {
        number: interventionNumber ? interventionNumber : "",
        mesure: typeof interventionMesure !== "undefined" ? new Choice(interventionMesure, ["minute(s)", "day(s)", "week(s)", "month(s)", "year(s)"]) : ""
      },
      visitType: visitType,
      visitId: visitId,
      description: description ? description : ""
    });
  }
}

exports.default = VisitModel;

_spinalCoreConnectorjs2.default.register_models([VisitModel]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy92aXNpdC5tb2RlbC5qcyJdLCJuYW1lcyI6WyJWaXNpdE1vZGVsIiwiTW9kZWwiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJwZXJpb2RpY2l0eU51bWJlciIsInBlcmlvZGljaXR5TWVzdXJlIiwidmlzaXRJZCIsInZpc2l0VHlwZSIsImludGVydmVudGlvbk51bWJlciIsImludGVydmVudGlvbk1lc3VyZSIsImRlc2NyaXB0aW9uIiwiYWRkX2F0dHIiLCJpZCIsInV1aWQiLCJ2NCIsInBlcmlvZGljaXR5IiwibnVtYmVyIiwibWVzdXJlIiwiQ2hvaWNlIiwiaW50ZXJ2ZW50aW9uIiwic3BpbmFsQ29yZSIsInJlZ2lzdGVyX21vZGVscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsVUFBTixTQUF5QkMsS0FBekIsQ0FBK0I7QUFDN0JDLGNBQVlDLElBQVosRUFBa0JDLGlCQUFsQixFQUFxQ0MsaUJBQXJDLEVBQXdEQyxPQUF4RCxFQUFpRUMsU0FBakUsRUFDRUMsa0JBREYsRUFDc0JDLGtCQUR0QixFQUMwQ0MsV0FEMUMsRUFDdUQ7QUFDckQ7QUFDQSxTQUFLQyxRQUFMLENBQWM7QUFDWkMsVUFBSyxTQUFRQyxtQkFBS0MsRUFBTCxFQUFVLEVBRFg7QUFFWlgsWUFBTUEsSUFGTTtBQUdaWSxtQkFBYTtBQUNYQyxnQkFBUVosaUJBREc7QUFFWGEsZ0JBQVEsSUFBSUMsTUFBSixDQUFXYixpQkFBWCxFQUE4QixDQUFDLFFBQUQsRUFBVyxTQUFYLEVBQ3BDLFVBRG9DLEVBRXBDLFNBRm9DLENBQTlCO0FBRkcsT0FIRDtBQVVaYyxvQkFBYztBQUNaSCxnQkFBUVIscUJBQXFCQSxrQkFBckIsR0FBMEMsRUFEdEM7QUFFWlMsZ0JBQVEsT0FBT1Isa0JBQVAsS0FBOEIsV0FBOUIsR0FBNEMsSUFBSVMsTUFBSixDQUNsRFQsa0JBRGtELEVBQzlCLENBQ2xCLFdBRGtCLEVBQ0wsUUFESyxFQUVsQixTQUZrQixFQUVQLFVBRk8sRUFHbEIsU0FIa0IsQ0FEOEIsQ0FBNUMsR0FLRDtBQVBLLE9BVkY7QUFtQlpGLGlCQUFXQSxTQW5CQztBQW9CWkQsZUFBU0EsT0FwQkc7QUFxQlpJLG1CQUFhQSxjQUFjQSxXQUFkLEdBQTRCO0FBckI3QixLQUFkO0FBdUJEO0FBM0I0Qjs7a0JBZ0NoQlYsVTs7QUFDZm9CLGdDQUFXQyxlQUFYLENBQTJCLENBQUNyQixVQUFELENBQTNCIiwiZmlsZSI6InZpc2l0Lm1vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNwaW5hbENvcmUgZnJvbSBcInNwaW5hbC1jb3JlLWNvbm5lY3RvcmpzXCI7XG5pbXBvcnQgdXVpZCBmcm9tIFwibm9kZS11dWlkXCI7XG5cbmNsYXNzIFZpc2l0TW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIHBlcmlvZGljaXR5TnVtYmVyLCBwZXJpb2RpY2l0eU1lc3VyZSwgdmlzaXRJZCwgdmlzaXRUeXBlLFxuICAgIGludGVydmVudGlvbk51bWJlciwgaW50ZXJ2ZW50aW9uTWVzdXJlLCBkZXNjcmlwdGlvbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRfYXR0cih7XG4gICAgICBpZDogYHZpc2l0LSR7dXVpZC52NCgpfWAsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgcGVyaW9kaWNpdHk6IHtcbiAgICAgICAgbnVtYmVyOiBwZXJpb2RpY2l0eU51bWJlcixcbiAgICAgICAgbWVzdXJlOiBuZXcgQ2hvaWNlKHBlcmlvZGljaXR5TWVzdXJlLCBbXCJkYXkocylcIiwgXCJ3ZWVrKHMpXCIsXG4gICAgICAgICAgXCJtb250aChzKVwiLFxuICAgICAgICAgIFwieWVhcihzKVwiXG4gICAgICAgIF0pXG4gICAgICB9LFxuICAgICAgaW50ZXJ2ZW50aW9uOiB7XG4gICAgICAgIG51bWJlcjogaW50ZXJ2ZW50aW9uTnVtYmVyID8gaW50ZXJ2ZW50aW9uTnVtYmVyIDogXCJcIixcbiAgICAgICAgbWVzdXJlOiB0eXBlb2YgaW50ZXJ2ZW50aW9uTWVzdXJlICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IENob2ljZShcbiAgICAgICAgICBpbnRlcnZlbnRpb25NZXN1cmUsIFtcbiAgICAgICAgICAgIFwibWludXRlKHMpXCIsIFwiZGF5KHMpXCIsXG4gICAgICAgICAgICBcIndlZWsocylcIiwgXCJtb250aChzKVwiLFxuICAgICAgICAgICAgXCJ5ZWFyKHMpXCJcbiAgICAgICAgICBdKSA6IFwiXCJcbiAgICAgIH0sXG4gICAgICB2aXNpdFR5cGU6IHZpc2l0VHlwZSxcbiAgICAgIHZpc2l0SWQ6IHZpc2l0SWQsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPyBkZXNjcmlwdGlvbiA6IFwiXCJcbiAgICB9KVxuICB9XG59XG5cblxuXG5leHBvcnQgZGVmYXVsdCBWaXNpdE1vZGVsO1xuc3BpbmFsQ29yZS5yZWdpc3Rlcl9tb2RlbHMoW1Zpc2l0TW9kZWxdKTsiXX0=